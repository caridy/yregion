YRegion3=window.YRegion3||function(){var P={},L=null,E={},F={},C={},V=[],K="region",H=/(?:^|\s+)(target|hook)([\w-\.]+)(?:\s+|$)/,U=/^\s+|\s+$/g,G={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},O=[],R=[],W=null;function D(f){var c;for(c=0;c<f.length;c++){V.push({fullpath:f[c]});}}function a(g){var c;g=g||{};if(g.verifier&&g.verifier.call()){return true;}else{for(c=0;c<V.length;c++){if(V[c].fullpath==g.fullpath){return true;}}}return false;}function M(f){var c=R.pop();A();if(f&&c){c.callback.call();}}function A(){var c;if(R.length>0){c=Array.prototype.slice.call(R[0].require,0);c.push(function(f){M(true);});L.use.apply(L,c);}}function J(c){var f={event:c,flagged:false};f.target=c.target||W.node;f.stopEvent=function(){f.flagged=true;c.halt();};return f;}function B(f){f=f||{};var g=J(f),c;if(g.event&&g.target){g.anchor=P.getOwnerByTagName(g.target,"A",5);if(!g.yuibutton&&!g.anchor){if((g.target.getAttribute("tagName")=="INPUT")&&(g.input=g.target)){}else{if((g.target.getAttribute("tagName")=="BUTTON")&&(g.button=g.target)){}else{g.select=P.getOwnerByTagName(g.target,"SELECT",2);if(g.select){c=L.Node.getDOMNode(g.select);g.value=c[c.selectedIndex].value;}}}}if((g.anchor||g.button)&&(g.yuibutton=P.getYUIButton(g.target))){g.value=g.yuibutton.get("value");g.classes=g.yuibutton.getAttribute("className");}g.trigger=g.trigger||g.anchor||g.yuibutton||g.input||g.select||g.target;if(g.trigger){g.value=g.value||g.trigger.get("value");g.classes=g.classes||g.trigger.getAttribute("className");}}return g;}function N(g){var f,c=[];while((f=H.exec(g))){c.push(f[2].toLowerCase());g=g.replace(f[1]+f[2],"");}return c;}function Z(c,f){f=f||{};f.guid=c;f.lazyload=false;if(f.ondomready){f.ondomready=false;L.on("domready",function(g){P.initRegion(c,f);});}else{if(W){f.parentRegion=f.parentRegion||W;f.parent=f.parent||W.guid;}if(f.guid&&f.ns&&!F.hasOwnProperty(f.guid)){if(E.hasOwnProperty(f.ns)){E[f.ns].subscribe(f);}else{E[f.ns]=new _modLoader(f.ns);E[f.ns].subscribe(f);if(f.region){E[f.ns].load(f.region);}else{E[f.ns].set({});}}}}}function X(c){W.initPlugin(c);}function b(h,g){var j,f=g;if(g){L.Object.each(h.childs,function(c,k){if(!c.lazyload&&((f===c.node)||c.node.test("#"+c.guid+" *"))){return b(c,g);}},P,false);}return h;}function e(k,g){var j=G,c=j.parser[g?"strict":"loose"].exec(k),h={},f=14;while(f--){h[j.key[f]]=c[f]||"";}h[j.q.name]={};h[j.key[12]].replace(j.q.parser,function(m,l,n){if(l){h[j.q.name][l]=n;}});return h;}function I(c){var f=YUI();return f.use.apply(f,c);}_modLoader=function(c){this.ns=c;};_modLoader.prototype={load:function(c,f){f=f||{};if(this._debug){c+=((c.indexOf("?")==-1)?"?":"&")+"rnd="+new Date().valueOf().toString();}return L.io.script(c,f);},set:function(c){L.aggregate(c,_regionAbstraction);this._mod=c;this.notify();},create:function(c){L.aggregate(c,this._mod);F[c.guid]=c;c.init();},subscribe:function(c){this._instances=this._instances||[];this._instances.push(c);if(this._mod){this.notify();}},notify:function(){var c;if(L.Lang.isArray(this._instances)){while((c=this._instances.pop())){this.create(c);}}}};_regionAbstraction={init:function(){var m,g,k=[],j,c,h=this;this.getargs=(this.getargs?this.getargs:{});this.postargs=(this.postargs?this.postargs:{});this.require=this.require||[];j=Array.prototype.slice.call(this.require,0);this.dependencies=this.dependencies||[];for(g=0;g<this.dependencies.length;g++){m=this.dependencies[g];if(typeof m==="string"){m={fullpath:m};this.dependencies[g]=m;}if(m.fullpath&&(!a(m))){if(this._debug){m.fullpath+=((m.fullpath.indexOf("?")==-1)?"?":"&")+"rnd="+new Date().valueOf().toString();}k.push(m.fullpath);}}m=function(){if(h.wrapper){h.addToBody({attributes:{id:h.guid}},this);}if(h.ajax){h.execute("render",{},function(f){h.node.set("innerHTML",f.response);h.ready();});}else{h.ready();}};this.include(j,k,function(){h.available(m);});return this;},available:function(g){var c=this;c.require.push("event","node",function(){c.waiting(g);});c.Y=YUI();console.log(c.require);c.Y.use.apply(c.Y,c.require);return c;},waiting:function(c){this.node=this.get("#"+this.guid);var g=(this.wrapper?this.get("#"+this.wrapper):this.node);if(g){g.on("available",c);}},ready:function(){var h,f,g=this;this.node.setAttribute("id",this.guid);this.install(this.actions);if(L.Lang.isArray(this.plugins)){for(f=0;f<this.plugins.length;f++){this.initPlugin(this.plugins[f]);}}if(this.parentRegion){this.parentRegion.setChild(this);}this.node.addClass(K);L.Object.each(g.childs,function(c,j){if(!c.lazyload){g.initChild(j,c);}},g,false);this.fire("region:ready");L.on("contentready",function(){g.fire("region:contentready");g.fire("test:ready");},"#"+this.guid,this);return this;},install:function(f){var c=this;L.Object.each(f,function(g,h){c.on(h,g);},c,false);return this;},initPlugin:function(c){if(C.hasOwnProperty(c)){this.install(C[c]);}else{}return this;},use:function(){var c=Array.prototype.slice.call(arguments,0),f=c.pop();if(f){if(c&&c.length>0){R.push({require:c,callback:f,type:"js"});if(R.length==1){A();}}else{f.call();}}return this;},include:function(h,g,k){var j=Array.prototype.slice.call(g,0),c=this;if(k){h.push(function(f){if(L.Lang.isArray(j)&&(j.length>0)){L.Get.script(j,{onSuccess:function(l){D(g);k.apply(c,[]);},onFailure:{},autopurge:true});}else{k.apply(c,[]);}});this.use.apply(c,h);}return this;},setContent:function(c,h){h=h||this.node;var g=L.Selector.query(c,L.Node.getDOMNode(L.get(h)),true);if(g){for(var f=0;f<g.childNodes.length;f++){L.Event.purgeElement(g.childNodes[f],true);}g.innerHTML=h;
this.bubbling("region","contentchange",{node:this.node});}else{}return this;},setBody:function(f){var c=L.Node.getDOMNode(this.node);if(c){for(i=0;i<c.childNodes.length;i++){L.Event.purgeElement(c.childNodes[i],true);}this.node.set("innerHTML",f);this.bubbling("region","contentchange",{node:this.node});}return this;},addToBody:function(f,h){var g,c;if(L.Lang.isString(f)){f={innerHTML:f};}h=h||this.node;L.aggregate(f,{type:"div",attributes:{},innerHTML:""});if(f){g=document.createElement(f.type);for(c in f.attributes){if(f.attributes.hasOwnProperty(c)){g.setAttribute(c,f.attributes[c]);}}g.innerHTML=f.innerHTML;h.appendChild(g);this.bubbling("region","contentchange",{node:this.node});}return this;},initChild:function(c,f){f=f||{};f.parentRegion=this;f.parent=this.guid;P.initRegion(c,f);return this;},wakeChild:function(c){if(c&&this.childs.hasOwnProperty(c)&&this.childs[c].lazyload){this.initChild(c,this.childs[c]);}return this;},setChild:function(c){this.childs=this.childs||{};if(c&&c.guid){this.childs[c.guid]=c;}return this;},getChild:function(c){return((this.childs&&this.childs.hasOwnProperty(c))?this.child[c]:null);},get:function(c,g){g=g||this.node;var f=L.Selector.query(c,L.Node.getDOMNode(g),true);return(f?L.get(f):null);},getViewport:function(){var c=this.container,f=this.Dom.getRegion(c)||null;if(f){f.width=f.right-f.left;f.height=f.bottom-f.top;f.scrollWidth=parseInt(c.scrollWidth,10);f.scrollHeight=parseInt(c.scrollHeight,10);f.position=this.Dom.getStyle("position")||"";f.overflow=this.Dom.getStyle("overflow")||"";}return f;},setViewport:function(h){var g=L.Dom.setStyle,c;h=h||{};for(c in h){if(h.hasOwnProperty(c)){g(c,h[c]);}}return this;},on:function(f,g,c){this._actions=this._actions||new this.Y.Event.Target();this._actions.publish(f);this._actions.subscribe(f,g,this,c);return this;},fire:function(c,f){f=f||{};if(this._actions){this._actions.fire(c,f);}return f.flagged;},signature:function(f){var c=(f[1]?f[1][0]:null);return((c&&c.flagged)?null:{layer:f[0],args:c,obj:f[2]});},inject:P.inject,notify:P.notify,bubbling:function(g,h,j,c){j=j||{};j.layer=g;h=(L.Lang.isArray(h)?h:[h]);if(!c){for(var f=0;f<h.length;f++){if(g!="mouse"){}this.fire(g+":"+h[f],j);}}if(this.parentRegion&&!j.flagged){this.parentRegion.bubbling(g,h,j);}return j.flagged;},broadcast:function(g,j,h,f){var k;h=h||{};h.layer=g;h.flagged=false;if(!f){this.fire(g+":"+j,h);}if(this.childs){for(k in this.childs){if(this.childs.hasOwnProperty(k)&&(!this.childs[k].lazyload)){h.flagged=false;this.childs[k].broadcast(g,j,h);}}}return h.flagged;},execute:function(j,m,q){var o="",p,f="/ajax/"+this.ns+"/ws",l=this,r={},g={},n,k;L.Lang.augmentObject(g,this.getargs,true);g.guid=this.guid;g.command=j;if(this.ws){f=this.ws;}f=P.augmentURI(f,g);m=m||{};L.Lang.augmentObject(r,this.postargs,true);L.Lang.augmentObject(r,m,true);for(p in r){if(r.hasOwnProperty(p)){o+=(o===""?"":"&")+p+"="+r[p];}}if(YAHOO.util.Connect){n={success:function(c){l.fire("region:executed",{type:"ajax",o:c,command:j,args:m});},failure:function(c){l.fire("region:error",{type:"ajax",o:c,command:j,args:m});}};if(L.Lang.isFunction(q)){n.success=function(c){q.apply(l,[c]);};}else{if(L.Lang.isObject(q)&&q){n=q;}}k=YAHOO.util.Connect.asyncRequest((o===""?"GET":"POST"),f,n,o);l.bubbling("region","loading",{type:"ajax",node:l.node,handle:k,command:j,args:m});return k;}return false;},destroy:function(f){f=f||{};this.fire("region:destroy",f);if(this.container){this.Event.purgeElement(this.container,true);if(!f.partial){this.container.parentNode.removeChild(this.container);}}if(this.childs){for(var g in this.childs){if(this.childs.hasOwnProperty(g)&&(!this.childs[g].lazyload)){this.destroy(f);}}}P.destroyRegion(this);}};P.notify=function(f,g,c){if(f&&F.hasOwnProperty(f)){return F[f].fire(g,c);}};P.broadcast=function(f,c){if(W){return W.broadcast("broadcast",f,c);}};P.setRegionDefinition=function(f,g){if(!E.hasOwnProperty(f)){E[f]=new _modLoader(f);}if(g){g.ns=f;E[f].set(g);}};P.isRegion=function(c){return E.hasOwnProperty(c);};P.initRegion=function(c,f){O.push({method:"initRegion",args:[c,f]});};P.destroyRegion=function(c){if(c&&c.guid&&c.ns&&F.hasOwnProperty(c.guid)&&(c===F[c.guid])){delete F[c.guid];}else{return;}};P.clearRegion=function(c){if(F.hasOwnProperty(c)){F[c].destroy({partial:true});}};P.setPluginDefinition=function(c,f){if(!C.hasOwnProperty(c)){C[c]=f;}};P.isPlugin=function(c){return C.hasOwnProperty(c);};P.initPlugin=function(c){O.push({method:"initPlugin",args:[c]});};P.getOwnerByClassName=function(g,f,h){var c=function(j){return j.hasClass(f);};if(g&&!g.hasClass(f)){return g.ancestor(c);}return g;};P.getOwnerByTagName=function(g,c,h){c=c.toUpperCase();var f=function(j){return(j.get("tagName").toUpperCase()==c);};if(g&&!f(g)){return g.ancestor(f);}return g;};P.isAncestor=function(g,c,h){var f=function(j){return(j===c);};if(g&&c){return g.ancestor(f);}return false;};P.strictMode=true;P.augmentURI=function(g,c){c=c||{};var j=e(g,this.strictMode),f="";j.queryKey=j.queryKey||{};L.aggregate(j.queryKey,c,true);if(j.protocol){f+=j.protocol+":";}if(this.strictMode){if(/^(?:[^:\/?#]+:)?\/\//.test(j.source)){f+="//";}}else{if(/^(?:(?![^:@]+:[^:@\/]*@)[^:\/?#.]+:)?\/\//.test(j.source)){f+="//";}}if(j.authority){if(j.userInfo){if(j.user){f+=j.user;}if(j.userInfo.indexOf(":")>-1){f+=":";}if(j.password){f+=j.password;}f+="@";}if(j.host){f+=j.host;}if(j.port){f+=":"+j.port;}}if(j.relative){if(j.path){if(j.directory){f+=j.directory;}if(j.file){f+=j.file;}}f+="?";for(var h in j.queryKey){if(j.queryKey.hasOwnProperty(h)){f+=h+"="+j.queryKey[h]+"&";}}if(j.anchor){f+="#"+j.anchor;}}return f;};P.getHooks=function(f){var c;if(f){c=N(f.get("className"));}return c;};P.getYUIButton=function(c){return null;};P.inject=function(c){var g=document.getElementsByTagName("head")[0]||document.documentElement,f;c=c||{};if(c.css){f=document.createElement("style");f.type="text/css";if(f.styleSheet&&(typeof f.styleSheet==="object")){f.styleSheet.cssText=c.css;}else{f.appendChild(document.createTextNode(c.css));
}g.appendChild(f);}if(c.js){f=document.createElement("script");c.js=c.js.replace(U,"");f.type="text/javascript";if(L.UA.ie){f.text=c.js;}else{f.appendChild(document.createTextNode(c.js));}g.insertBefore(f,g.firstChild);g.removeChild(f);}};var d=window.YRegion3_config||{},Q=d.require||[],T=d._loader||{},S={ns:"yregion",_debug:d._debug,_loader:T,dependencies:d.dependencies,plugins:d.plugins,actions:{"region:ready":function(){var g,c,f;W=this;if(this._debug){new Y.Console().render();}this.node.on("click",function(k){var l=B(k),h=N(l.classes),j=b(W,l.target);h.push("click");if(l.target&&j){j.bubbling("click",h,l);}},this);this.node.on("focus",function(k){var l=B(k),h=N(l.classes),j=b(W,l.target);h.push("focus");if(l.target&&j){j.bubbling("focus",h,l);}},this);this.node.on("blur",function(k){var l=B(k),h=N(l.classes),j=b(W,l.target);h.push("focus");if(l.target&&j){j.bubbling("focus",h,l);}},this);c=function(k){var l=J(k),j=b(W,l.target),h;if(l.target&&j){if(!k.relatedTarget||!P.isAncestor(j.node,k.relatedTarget)){j.fire("region:"+k.type,l);}j.bubbling("mouse",k.type,l);}};this.node.on("mouseover",c,this);this.node.on("mouseout",c,this);f=function(h){W.broadcast("key",h.type,J(h));};L.on("keypress",f,"document");L.on("keyup",f,"document");L.on("keydown",f,"document");L.on("window","resize",function(h){W.broadcast("window","resize",J(h));});P.initRegion=Z;P.initPlugin=X;if(O.length>0){while((g=O.pop())){P[g.method].apply(P,g.args);}}if(d.actions&&L.Lang.isFunction(d.actions["region:ready"])){d.actions["region:ready"].apply(this,[]);}this.install((d.actions||{}));},"click:click":function(){}},waiting:function(g){var c=this;L.on("domready",function(){c.node=c.Y.get("body");g.apply(c.node,[]);});return this;},args:{}};Q.push("yui","oop","event","dom","node","io-base","io-queue");if(d._debug){T.filter="debug";Q.push("console");}S.require=Array.prototype.slice.call(Q,0);L=YUI(T);Q.push(function(c){Z((d.guid?d.guid:"yregion"),S);});L.use.apply(L,Q);return P;}();